# Add eventuall missing newline att EOF
... | sed '$q' | ...
... | sed \$q | ...
... | awk 1 | ...
{ rm file; awk 1 >file; } <file
[[ $(tail -c1 file) && -f file ]] && echo '' >>file
